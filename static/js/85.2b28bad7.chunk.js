"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[85],{1687:function(e,t,n){n.d(t,{Hx:function(){return v},Y5:function(){return p},bI:function(){return u},cb:function(){return f},uV:function(){return d},wr:function(){return l}});var r=n(5861),a=n(7757),c=n.n(a),s=n(1243),o="https://api.themoviedb.org/3",i="a8e6047ebc6d4087c1e6648e8f96688b",u=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(o,"/search/movie?api_key=").concat(i,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(o,"/trending/movie/week?api_key=").concat(i,"&page=1"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(o,"/movie/").concat(t,"?api_key=").concat(i,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(i,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(i,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return s.Z.get("".concat(o,"/movie/").concat(e,"/videos?api_key=").concat(i)).then((function(e){return e.data.results}))}},8866:function(e,t,n){var r=n(4691),a=n(184);t.Z=function(){return(0,a.jsx)(r.VL,{visible:!0,height:"80",width:"80",ariaLabel:"vortex-loading",wrapperStyle:{},wrapperClass:"vortex-wrapper",colors:["red","green","blue","yellow","orange","purple"]})}},6085:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(1413),a=n(9439),c=n(1687),s=n(1087),o=n(7689),i=n(2791),u="MovieDetails_wrapper__YMWLn",l="MovieDetails_columnImg__9BJFf",p="MovieDetails_detalisImg__ihS2c",d="MovieDetails_info__qv2SI",v="MovieDetails_list__dbNMP",f="MovieDetails_item__mbUY+",h="MovieDetails_link__U+v+7",m="MovieDetails_score__p8Kk2",_="MovieDetails_genres__Pnmgt",g="MovieDetails_videoBackdrop__Jk9jD",x="MovieDetails_iconBackModal__-BFM8",w="MovieDetails_videoModal__Qa93g",j=n(8866),k="Return_button__YIiV3",y=n(184),b=function(e){var t=e.to;return(0,y.jsxs)(s.rU,{to:t,children:[" ",(0,y.jsxs)("button",{className:k,type:"button",children:[" ","Return"]})," "]})},Z=n(8174),M=n(9686),N=n(8014),D=function(){var e,t,n=(0,i.useState)({}),k=(0,a.Z)(n,2),D=k[0],S=k[1],U=(0,o.UO)().movieId,C=(0,o.TH)(),I=null!==(e=null===(t=C.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movie",E=(0,i.useState)(null),Y=(0,a.Z)(E,2),L=Y[0],B=Y[1],F=(0,i.useState)(!1),V=(0,a.Z)(F,2),R=V[0],T=V[1];function q(){T(!1),B(null),document.body.style.overflow="auto"}(0,i.useEffect)((function(){(0,c.Y5)(U).then((function(e){S(e)}))}),[U]),(0,i.useEffect)((function(){return window.addEventListener("keydown",H),function(){window.removeEventListener("keydown",H)}}));var H=function(e){"Escape"===e.code&&q()},J=D.poster_path,P=D.title,A=D.vote_average,G=D.overview,K=D.genres,O=(10*A/10).toFixed(1);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b,{to:I}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:u,children:[(0,y.jsxs)("div",{className:l,children:[(0,y.jsx)("img",{src:J?"https://image.tmdb.org/t/p/w500/".concat(J):(0,y.jsx)("p",{}),alt:P||"Movie without a title",width:300,className:p,style:{cursor:"pointer"},onClick:function(){(0,c.cb)(U).then((function(e){var t=e.find((function(e){return"Trailer"===e.type}));t?(B(t.key),T(!0),document.body.style.overflow="hidden"):(T(!1),Z.Am.error("No trailer for this movie."))}))}}),R&&L?(0,y.jsxs)("div",{className:g,onClick:function(e){e.currentTarget===e.target&&q(),"Escape"===e.code&&q()},children:[(0,y.jsx)(N.Y0U,{className:x,onClick:q}),(0,y.jsx)(M.Z,{className:w,videoId:L,opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:1,cc_load_policy:0,fs:0,iv_load_policy:0,modestbranding:0,rel:0,showinfo:0},origin:"http://localhost:3000"}})]}):(0,y.jsx)("p",{})]}),(0,y.jsxs)("div",{className:d,children:[(0,y.jsx)("h1",{children:P}),(0,y.jsxs)("p",{className:m,children:["User Score: ",(0,y.jsx)("span",{children:O})]}),(0,y.jsx)("span",{children:G}),(0,y.jsx)("p",{className:_,children:"Genres:"}),K&&(0,y.jsx)("span",{children:K.map((function(e){return e.name})).join(" || ")})]})]}),(0,y.jsxs)("ul",{className:v,children:[(0,y.jsx)("li",{className:f,children:(0,y.jsx)(s.rU,{className:h,to:"cast",state:(0,r.Z)({},C.state),children:"Cast"})}),(0,y.jsx)("li",{className:f,children:(0,y.jsx)(s.rU,{className:h,to:"reviews",state:(0,r.Z)({},C.state),children:"Reviews"})})]}),(0,y.jsx)(i.Suspense,{fallback:(0,y.jsx)(j.Z,{}),children:(0,y.jsx)(o.j3,{})})]})]})}}}]);
//# sourceMappingURL=85.2b28bad7.chunk.js.map