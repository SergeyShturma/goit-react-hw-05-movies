"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[765],{1687:function(e,t,r){r.d(t,{Hx:function(){return v},Y5:function(){return p},bI:function(){return i},cb:function(){return h},uV:function(){return f},wr:function(){return l}});var n=r(5861),a=r(7757),c=r.n(a),s=r(1243),u="https://api.themoviedb.org/3",o="a8e6047ebc6d4087c1e6648e8f96688b",i=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/search/movie?api_key=").concat(o,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/trending/movie/week?api_key=").concat(o,"&page=1"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/movie/").concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/movie/").concat(t,"/credits?api_key=").concat(o,"&language=en-US"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return s.Z.get("".concat(u,"/movie/").concat(e,"/videos?api_key=").concat(o)).then((function(e){return e.data.results}))}},8866:function(e,t,r){var n=r(4691),a=r(184);t.Z=function(){return(0,a.jsx)(n.VL,{visible:!0,height:"80",width:"80",ariaLabel:"vortex-loading",wrapperStyle:{},wrapperClass:"vortex-wrapper",colors:["red","green","blue","yellow","orange","purple"]})}},7665:function(e,t,r){r.d(t,{e:function(){return f}});var n=r(1087),a=r(7689),c="MoviesList_list__0Owr9",s="MoviesList_link__8rTGX",u="MoviesList_item__eePYv",o="MoviesList_title__PB2c8",i=r(2791),l=r(8866),p=r(184),f=function(e){var t=e.movies,r=(0,a.TH)();return(0,p.jsxs)("div",{children:[(0,p.jsx)("ul",{className:c,children:t.map((function(e){var t=e.id,a=e.title,c=e.poster_path;return(0,p.jsx)("li",{className:u,children:(0,p.jsxs)(n.rU,{className:s,to:"/movies/".concat(t),state:{from:r},children:[(0,p.jsx)("img",{src:c?"https://image.tmdb.org/t/p/w500"+c:"https://via.placeholder.com/960x240",alt:"movie",width:"250"}),(0,p.jsx)("p",{className:o,children:a})]})},t)}))}),(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)(l.Z,{}),children:(0,p.jsx)(a.j3,{})})]})}},4765:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(9439),a=r(1087),c=r(2791),s=r(8174),u=r(1687),o="Movies_main__zVRJ-",i="SearchBar_wrapper__KGK67",l="SearchBar_form__gW7Gj",p="SearchBar_input__bIy50",f="SearchBar_button__T7RTc",v="SearchBar_button_label__PbnEv",h=r(184),m=function(e){var t=e.onSubmit,r=(0,c.useState)(""),a=(0,n.Z)(r,2),u=a[0],o=a[1];return(0,h.jsx)("div",{className:i,children:(0,h.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault(),""!==u.trim()?(t(u),o("")):(0,s.Am)("\u041f\u0443\u0441\u0442\u043e\u0442\u0443 \u0438\u0441\u043a\u0430\u0442\u044c \u043d\u0435 \u043e\u0447\u0435\u043d\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e!")},children:[(0,h.jsx)("button",{type:"submit",className:f,children:(0,h.jsx)("span",{className:v,children:"Search"})}),(0,h.jsx)("input",{className:p,type:"text",name:"query",value:u,autoComplete:"off",placeholder:"Search movies",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},d=r(7665),_=r(8866),x=function(){var e,t=(0,a.lr)(),r=(0,n.Z)(t,2),i=r[0],l=r[1],p=null!==(e=i.get("query"))&&void 0!==e?e:"",f=(0,c.useState)([]),v=(0,n.Z)(f,2),x=v[0],g=v[1],b=(0,c.useState)(!1),w=(0,n.Z)(b,2),j=w[0],y=w[1],k=(0,c.useState)(null),S=(0,n.Z)(k,2),Z=S[0],N=S[1];(0,c.useEffect)((function(){g([]),y(!0),(0,u.bI)(p).then((function(e){g(e.results)})).catch((function(e){return N(e)})).finally((function(){y(!1)}))}),[p]);return(0,h.jsxs)("main",{className:o,children:[Z&&(0,h.jsx)("h2",{children:Z.message}),(0,h.jsx)(m,{onSubmit:function(e){l(""!==e?{query:e}:{})}}),x.length>0&&(0,h.jsx)(d.e,{movies:x}),j&&(0,h.jsx)(_.Z,{}),(0,h.jsx)(s.Ix,{autoClose:2e3})]})}}}]);
//# sourceMappingURL=765.1a102574.chunk.js.map